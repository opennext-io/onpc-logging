
elasticsearch_log_dir: "/var/log/elasticsearch"
elasticsearch_data_dir: "/var/lib/elasticsearch/data"
elasticsearch_container_bind_mounts:
  - bind_dir_path: "{{ elasticsearch_data_dirs }}/data"
    mount_path: "/openstack/{{ inventory_hostname }}"
# elasticsearch role vars
es_api_port: 9200
es_transport_port: 9300
es_major_version: "6.x"
es_version: "6.2.4"
es_scripts: false
es_templates: false
es_version_lock: false
es_heap_size: 1g
es_max_map_count: 262144
es_data_dirs: "{{ elasticsearch_data_dir }}"
es_log_dir: "{{ elasticsearch_log_dir }}"
es_instance_name: "{{ physical_host }}"
es_config:
  node.name: "{{ ansible_hostname if inventory_hostname in groups['all_containers'] else inventory_hostname }}"
  cluster.name: "elasticsearch"
  discovery.zen.ping.unicast.hosts: "localhost:{{ es_transport_port }}"
# network.host: "{{ ansible_host }}"
  network.host: 0.0.0.0
  http.port: "{{ es_api_port }}"
  transport.tcp.port: "{{ es_transport_port }}"
  transport.host: localhost
  node.data: true
  node.master: true
  bootstrap.memory_lock: true
es_server: "{% for host in groups[elasticsearch_host_group] %}{{ hostvars[host]['ansible_host'] }}{% if not loop.last %},{% endif %}{% endfor %}"


